# Studio - 패치노트

## 버전 2.2.3 (2024.12.30) - 이미지 확대/축소 기능 개선

### ✨ 주요 변경사항

#### 1. 🔍 이미지 확대/축소 기능 전면 개선
- **이전 문제**: 단순한 모달로만 이미지를 확대해서 보여주는 기능
- **새로운 기능**: 
  - 퍼센트 단위로 확대/축소 가능 (50% ~ 400%)
  - 미리 정의된 줌 레벨: 50%, 75%, 100%, 125%, 150%, 200%, 300%, 400%
  - 드래그로 이미지 위치 조절 가능
  - 마우스 휠로 확대/축소 지원
  - 키보드 단축키 지원:
    - `+`: 확대
    - `-`: 축소
    - `0`: 원래 크기로 리셋
    - `ESC`: 닫기
- **UI 개선**:
  - 상단 툴바에 줌 컨트롤 배치
  - 현재 줌 레벨 표시 및 드롭다운 선택
  - 100% 이상 확대 시 드래그 가능 표시
  - 하단에 단축키 안내

#### 2. 🎨 ImageZoomViewer 컴포넌트 신규 개발
- **위치**: `/src/components/ImageZoomViewer/`
- **기능**:
  - 독립적인 이미지 뷰어 컴포넌트
  - 부드러운 줌 애니메이션
  - 드래그 시 커서 변경 (grab ↔ grabbing)
  - 이미지 중심점 기준 확대/축소
- **성능**: React hooks를 활용한 최적화된 이벤트 처리

#### 3. 📱 UI/UX 개선사항
- 확대 버튼 아이콘 변경: `Expand` → `ZoomIn`
- 직관적인 줌 레벨 선택 UI
- 드래그 가능 상태 시각적 표시
- 전체화면 모드에서도 편리한 조작

---

### 🔧 기술적 상세사항

#### 새로 추가된 파일
```
src/components/ImageZoomViewer/
├── ImageZoomViewer.tsx  // 메인 컴포넌트
└── index.ts            // 내보내기 파일
```

#### 수정된 파일
- `src/components/SceneView.tsx`
  - ImageZoomViewer import 추가
  - 기존 확대 모달 제거
  - 새로운 ImageZoomViewer 컴포넌트 적용

#### 주요 기능 구현
```typescript
// 줌 레벨 관리
const zoomLevels = [50, 75, 100, 125, 150, 200, 300, 400];

// 드래그 기능
const [position, setPosition] = useState({ x: 0, y: 0 });
const [isDragging, setIsDragging] = useState(false);

// 마우스 휠 지원
container.addEventListener('wheel', handleWheel, { passive: false });
```

---

### 📊 성능 개선
- 이벤트 리스너 최적화로 부드러운 줌/팬 동작
- useCallback 훅을 활용한 불필요한 리렌더링 방지
- 트랜지션 효과로 자연스러운 UX 제공

---

### 🎯 사용법

#### 이미지 확대하기
1. 이미지 위의 돋보기 아이콘 클릭
2. 마우스 휠 또는 +/- 버튼으로 확대/축소
3. 드롭다운에서 원하는 줌 레벨 직접 선택 가능

#### 이미지 이동하기
1. 100% 이상 확대 시 드래그 가능
2. 마우스로 클릭 후 드래그하여 위치 조절
3. 원래 크기로 버튼(↻) 클릭 시 위치와 크기 모두 리셋

#### 키보드 단축키
- `+` 또는 `=`: 확대
- `-`: 축소
- `0`: 원래 크기로
- `ESC`: 뷰어 닫기

---

### 🐛 버그 수정
- ✅ 이미지 확대 시 중심점이 어긋나는 문제 해결
- ✅ 드래그 시 이미지가 화면 밖으로 나가는 문제 개선
- ✅ 줌 레벨 변경 시 부자연스러운 전환 효과 수정

---

### 💡 향후 개선 예정
- [ ] 터치 디바이스 지원 (핀치 줌)
- [ ] 이미지 회전 기능
- [ ] 미니맵 네비게이션
- [ ] 줌 레벨 사용자 설정 저장

---

## 이전 버전 히스토리

### 버전 2.2.2 (2024.12.21)
- 댓글 시스템 버그 수정
- 주석 오버레이 표시 문제 해결
- 단축키 안내 툴팁 위치 개선
- 수정요청 필터 작동 문제 해결

### 버전 2.2.1 (2024.12.20)
- 주석 저장 후 댓글 표시
- 댓글 입력란 위치 개선
- 활동 기록 표시 구현
- 초안 직접그리기 저장 기능
- 재업로드 플로우 추가
- 씬 설명 편집 기능 추가

---

**Last Updated**: 2024.12.30  
**Current Version**: 2.2.3  
**Status**: Production Ready 🚀  
**GitHub Repository**: https://github.com/gatat123/art  
**Production URL**: https://art-production-a9ab.up.railway.app/

---

**© 2024 Studio. All rights reserved.**