# Studio - 패치노트

## 버전 2.2.3 (2024.12.30) - 이미지 확대/축소 기능 버그 수정

### 🐛 버그 수정

#### 1. ✅ 이미지 축소 기능 오작동 문제 해결
- **문제**: 이미지 확대는 정상 작동하나 축소 기능이 제대로 동작하지 않음
- **원인**: 
  - `handleZoomOut` 함수의 줌 레벨 인덱스 찾기 로직 오류
  - `findIndex(level => level > scale)` 로직이 현재 스케일보다 큰 첫 번째 레벨을 찾아 잘못된 인덱스 반환
- **해결**: 
  - 현재 scale과 가장 가까운 zoomLevel의 인덱스를 정확히 찾는 로직으로 수정
  - for 루프를 사용하여 현재 scale 이상인 첫 번째 레벨을 찾고, 그 이전 레벨로 축소하도록 개선
- **결과**: 모든 줌 레벨에서 축소 기능이 정상적으로 작동

#### 2. ✅ 단축키 관련 기능 완전 제거
- **변경사항**: 
  - 모든 키보드 단축키 기능 제거
  - 우측 하단 단축키 안내 툴팁 제거 (이미 제거됨 확인)
- **이유**: 사용자 요청에 따라 단축키 기능을 완전히 제거

---

### 🔧 기술적 상세사항

#### 수정된 파일
1. **ImageZoomViewer.tsx**
   - `handleZoomOut` 함수 로직 개선
   - 줌 레벨 인덱스 찾기 알고리즘 수정

#### 코드 변경 사항
```typescript
// 기존 코드 (버그 있음)
const handleZoomOut = useCallback(() => {
  const currentIndex = zoomLevels.findIndex(level => level > scale);
  if (currentIndex > 0) {
    setScale(zoomLevels[currentIndex - 1]);
  } else if (scale > zoomLevels[0]) {
    setScale(zoomLevels[0]);
  }
}, [scale]);

// 수정된 코드 (버그 수정)
const handleZoomOut = useCallback(() => {
  // 현재 scale과 가장 가까운 zoomLevel의 인덱스를 찾기
  let currentIndex = -1;
  for (let i = 0; i < zoomLevels.length; i++) {
    if (zoomLevels[i] >= scale) {
      currentIndex = i;
      break;
    }
  }
  
  // 현재 scale이 모든 zoomLevel보다 큰 경우
  if (currentIndex === -1) {
    currentIndex = zoomLevels.length - 1;
  }
  
  // 이전 레벨로 축소
  if (currentIndex > 0) {
    setScale(zoomLevels[currentIndex - 1]);
  } else {
    // 이미 최소 레벨인 경우
    setScale(zoomLevels[0]);
  }
}, [scale]);
```

---

### 🎯 현재 상태
- ✅ 이미지 확대 기능 정상 작동
- ✅ 이미지 축소 기능 정상 작동
- ✅ 마우스 휠로 확대/축소 가능
- ✅ 드롭다운으로 줌 레벨 직접 선택 가능
- ✅ 리셋 버튼으로 원래 크기(100%)로 복원 가능
- ✅ 100% 이상 확대 시 드래그로 이미지 이동 가능

---

### 📊 줌 레벨
지원되는 줌 레벨: 50%, 75%, 100%, 125%, 150%, 200%, 300%, 400%

---

### 💡 사용 방법

#### 이미지 확대/축소
1. 씬 뷰에서 이미지 우측 상단의 돋보기 아이콘 클릭
2. 이미지 확대 뷰어에서:
   - **마우스 휠**: 위/아래로 스크롤하여 확대/축소
   - **+ 버튼**: 다음 줌 레벨로 확대
   - **- 버튼**: 이전 줌 레벨로 축소
   - **드롭다운**: 원하는 줌 레벨 직접 선택
   - **리셋 버튼**: 100% 원래 크기로 복원

#### 이미지 이동
- 100% 이상 확대 시 마우스 드래그로 이미지 이동 가능
- 커서가 손 모양으로 변경되면 드래그 가능 상태

---

### 🙏 피드백
이미지 확대/축소 기능이 정상적으로 작동합니다.
추가 문제가 발생하면 GitHub Issues를 통해 제보해주세요.

---

**Last Updated**: 2024.12.30  
**Current Version**: 2.2.3  
**Status**: Production Ready ⚡  
**GitHub Repository**: https://github.com/gatat123/art  
**Production URL**: https://art-production-a9ab.up.railway.app/

---

**© 2024 Studio. All rights reserved.**